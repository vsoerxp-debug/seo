"""
このファイルは、固定の文字列や数値などのデータを変数として一括管理するファイルです。
"""

############################################################
# ライブラリの読み込み
############################################################
from langchain_community.document_loaders import PyMuPDFLoader, Docx2txtLoader


############################################################
# 共通変数の定義
############################################################

# ==========================================
# 画面表示系
# ==========================================
APP_NAME = "SEO専用チャットボット"
CHAT_INPUT_HELPER_TEXT = "SEOに関するご質問をお聞かせください。"
DOC_SOURCE_ICON = ":material/description: "
LINK_SOURCE_ICON = ":material/link: "
WARNING_ICON = ":material/warning:"
ERROR_ICON = ":material/error:"
SPINNER_TEXT = "回答生成中..."


# ==========================================
# ログ出力系
# ==========================================
LOG_DIR_PATH = "./logs"
LOGGER_NAME = "ApplicationLog"
LOG_FILE = "application.log"
APP_BOOT_MESSAGE = "アプリが起動されました。"


# ==========================================
# LLM設定系
# ==========================================
MODEL = "gpt-4o-mini"  # 最適なスピードと精度のバランス
TEMPERATURE = 0.2  # 適度な創造性と一貫性のバランス
MAX_TOKENS = 1200  # 詳細な回答のためトークン数増加


# ==========================================
# RAG参照用のデータソース系
# ==========================================
RAG_TOP_FOLDER_PATH = "./data"
SUPPORTED_EXTENSIONS = {
    ".pdf": PyMuPDFLoader,
    ".docx": Docx2txtLoader
}


# ==========================================
# プロンプトテンプレート
# ==========================================
SYSTEM_PROMPT_CREATE_INDEPENDENT_TEXT = "会話履歴と最新の入力をもとに、会話履歴なしでも理解できる独立した入力テキストを生成してください。"

SYSTEM_PROMPT_SEO = """
    あなたはSEO専門のエキスパートコンサルタントです。

    以下の参考情報を基に、実践的で価値ある回答を提供してください：

    【回答指針】
    - 正確な情報のみを提供し、具体的な根拠も明記
    - 実行可能な手順や数値基準を含める
    - 実例があれば具体的に紹介
    - 最新のSEOトレンドも考慮
    - 情報不足時は代替案を提示

    【回答構成】
    1. **要点**: 重要ポイントを2-3個で整理
    2. **詳細**: 理由と具体的な実施方法
    3. **注意点**: 失敗回避のポイント
    4. **効果**: 期待できる成果と測定方法

    【参考情報】
    {context}

    ※簡潔で実務に直結する内容を心がけてください。
"""


# ==========================================
# LLMレスポンスの一致判定用
# ==========================================
SEO_NO_MATCH_ANSWER = "申し訳ございませんが、該当する情報が見つかりませんでした。詳細については別途お調べいたします。"


# ==========================================
# エラー・警告メッセージ
# ==========================================
COMMON_ERROR_MESSAGE = "このエラーが繰り返し発生する場合は、管理者にお問い合わせください。"
INITIALIZE_ERROR_MESSAGE = "初期化処理に失敗しました。"
CONVERSATION_LOG_ERROR_MESSAGE = "過去の会話履歴の表示に失敗しました。"
GET_LLM_RESPONSE_ERROR_MESSAGE = "回答生成に失敗しました。タイムアウトまたは処理エラーが発生しました。"
DISP_ANSWER_ERROR_MESSAGE = "回答表示に失敗しました。"